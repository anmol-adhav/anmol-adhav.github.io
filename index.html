<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Anmol Adhav | Academic Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Roboto font -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
  <link href="css/styles.css" rel="stylesheet">
</head>
<body>
  <nav class="navbar">
    <ul>
      <li><a href="#home">Home</a></li>
      <li><a href="#cv">CV</a></li>
      <li><a href="#research">Research</a></li>
      <li><a href="#teaching">Teaching</a></li>
      <li><a href="#publications">Publications</a></li>
      <li><a href="#talks">Talks</a></li>
      <li><a href="#service">Service</a></li>
      <li><a href="#contact">Contact</a></li>
    </ul>
  </nav>
  <header class="header" id="home">
    <div class="header-flex">
      <img src="assets/profile.jpeg" alt="Anmol Adhav" class="profile-img"/>
      <div class="header-text">
        <h1>Anmol Adhav</h1>
        <p>Postdoctoral Researcher<br>Structural Biology &amp; CryoEM</p>
        <div class="bio">
          <p>
            Hi! I’m Anmol Adhav, a postdoctoral researcher passionate about structural biology and cryo-electron microscopy (CryoEM). I love unraveling the mysteries of biological macromolecules and visualizing life at the atomic level. My experience spans protein structure determination, computational modeling, and collaborative science.<br><br>
            When I’m not at the microscope or coding, I enjoy science communication and exploring new ideas in molecular biology.
          </p>
        </div>
      </div>
    </div>
  </header>
  <section id="cv">
    <h2>Curriculum Vitae</h2>
    <p><a href="assets/cv.pdf" target="_blank">Download my CV (PDF)</a></p>
  </section>
  <section id="research">
    <h2>Research</h2>
    <p>Summary of research interests and recent projects.</p>
  </section>
  <section id="teaching">
    <h2>Teaching</h2>
    <ul>
      <li>Course name, institution, year</li>
      <li>Workshop, seminar, etc.</li>
    </ul>
  </section>
  <section id="publications">
    <h2>Publications</h2>
    <div id="publications-loading">Loading publications from ORCID...</div>
    <div id="publications-content"></div>
    <div id="publications-error" style="display: none;">
      <p>Unable to load publications from ORCID. Please visit my <a href="https://orcid.org/0000-0002-3504-8675" target="_blank">ORCID profile</a> to view my publications.</p>
    </div>
  </section>
  <section id="talks">
    <h2>Talks</h2>
    <ul>
      <li>Talk title, event, year</li>
      <li>Another talk...</li>
    </ul>
  </section>
  <section id="service">
    <h2>Service</h2>
    <ul>
      <li>Editorial, committee, outreach, etc.</li>
    </ul>
  </section>
  <section id="contact">
    <h2>Contact</h2>
    <p>Email: <a href="mailto:anmol.adhav@email.com">anmol.adhav@email.com</a></p>
    <p>
      <a href="https://github.com/anmol-adhav" target="_blank">GitHub</a> |
      <a href="https://linkedin.com/in/anmol-adhav" target="_blank">LinkedIn</a> |
      <a href="https://twitter.com/anmol_adhav" target="_blank">Twitter</a>
    </p>
  </section>
  <footer style="text-align:center; margin:2em 0 1em 0; color:#aaa;">
    &copy; 2025 Anmol Adhav
  </footer>

  <script>
    // ORCID API Integration
    const ORCID_ID = '0000-0002-3504-8675';
    const ORCID_API_BASE = 'https://pub.orcid.org/v3.0';

    async function fetchORCIDPublications() {
      const loadingElement = document.getElementById('publications-loading');
      const contentElement = document.getElementById('publications-content');
      const errorElement = document.getElementById('publications-error');

      try {
        // First, get the list of works
        const worksResponse = await fetch(`${ORCID_API_BASE}/${ORCID_ID}/works`, {
          headers: {
            'Accept': 'application/json'
          }
        });

        if (!worksResponse.ok) {
          throw new Error(`HTTP error! status: ${worksResponse.status}`);
        }

        const worksData = await worksResponse.json();
        const works = worksData.group || [];

        if (works.length === 0) {
          contentElement.innerHTML = '<p>No publications found.</p>';
          loadingElement.style.display = 'none';
          return;
        }

        // Fetch details for each work
        const publicationPromises = works.slice(0, 10).map(async (workGroup) => {
          const workSummary = workGroup['work-summary'][0];
          const putCode = workSummary['put-code'];
          
          try {
            const detailResponse = await fetch(`${ORCID_API_BASE}/${ORCID_ID}/work/${putCode}`, {
              headers: {
                'Accept': 'application/json'
              }
            });

            if (detailResponse.ok) {
              return await detailResponse.json();
            }
          } catch (error) {
            console.warn('Failed to fetch work detail:', error);
          }
          
          // Fallback to work summary if detail fetch fails
          return workSummary;
        });

        const publications = await Promise.all(publicationPromises);
        displayPublications(publications.filter(pub => pub));

      } catch (error) {
        console.error('Error fetching ORCID publications:', error);
        loadingElement.style.display = 'none';
        errorElement.style.display = 'block';
      }
    }

    function displayPublications(publications) {
      const loadingElement = document.getElementById('publications-loading');
      const contentElement = document.getElementById('publications-content');

      loadingElement.style.display = 'none';

      if (publications.length === 0) {
        contentElement.innerHTML = '<p>No publications found.</p>';
        return;
      }

      const publicationsList = publications.map(pub => {
        // Extract publication information
        const title = pub.title?.title?.value || pub['work-summary']?.title?.title?.value || 'Unknown Title';
        const journal = pub['journal-title']?.value || pub['work-summary']?.['journal-title']?.value || '';
        const year = pub['publication-date']?.year?.value || 
                     pub['work-summary']?.['publication-date']?.year?.value || 
                     new Date(pub['created-date']?.value || pub['work-summary']?.['created-date']?.value).getFullYear() || '';
        const type = pub.type || pub['work-summary']?.type || 'article';
        
        // Build authors string (simplified - ORCID doesn't always provide full author details)
        let authorsStr = '';
        if (pub.contributors && pub.contributors.contributor) {
          const authors = pub.contributors.contributor
            .filter(c => c.role === 'author')
            .map(c => c['credit-name']?.value || '')
            .filter(name => name);
          if (authors.length > 0) {
            authorsStr = authors.join(', ') + '. ';
          }
        }

        // Create formatted publication entry
        let pubHtml = '<li>';
        if (authorsStr) {
          pubHtml += authorsStr;
        }
        pubHtml += `<strong>"${title}"</strong>`;
        if (journal) {
          pubHtml += ` <em>${journal}</em>`;
        }
        if (year) {
          pubHtml += `, ${year}`;
        }
        pubHtml += '.</li>';

        return pubHtml;
      }).join('');

      contentElement.innerHTML = `<ul>${publicationsList}</ul>`;
    }

    // Load publications when page loads
    document.addEventListener('DOMContentLoaded', fetchORCIDPublications);
  </script>
</body>
</html>
